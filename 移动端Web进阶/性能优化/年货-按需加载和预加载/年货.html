<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/iconfont.css">
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <header class="header-container">
        <div class="navbar">
            <div class="navbar-left">
                <i class="iconfont icon-saoyisao"></i>
            </div>
            <div class="navbar-center">
                <div class="searchBox">
                    <div class="searchBox-prepend">
                        <i class="iconfont icon-fangdajing"></i>
                    </div>
                    <input type="text" placeholder="开学季有礼，好货5折起" class="searchBox-input">
                    <div class="searchBox-append">
                        <i class="iconfont icon-roundclose"></i>
                    </div>
                </div>
            </div>
            <div class="navbar-right">
                <i class="iconfont icon-msg0"></i>
            </div>
        </div>
    </header>
    <div class="main-container">
        <div class="slider-container">
            <img src="images/slider.jpg" alt="slider">
        </div>
        <div class="nav-container">
            <ul class="nav">
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/1.png" alt="" class="nav-img">
                        <span class="nav-text">团购</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/2.png" alt="" class="nav-img">
                        <span class="nav-text">一元购</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/3.png" alt="" class="nav-img">
                        <span class="nav-text">优惠券</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/4.png" alt="" class="nav-img">
                        <span class="nav-text">教育</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/5.png" alt="" class="nav-img">
                        <span class="nav-text">旅行</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/6.png" alt="" class="nav-img">
                        <span class="nav-text">在线订餐</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/7.png" alt="" class="nav-img">
                        <span class="nav-text">庆典</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/8.png" alt="" class="nav-img">
                        <span class="nav-text">秒杀</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/9.png" alt="" class="nav-img">
                        <span class="nav-text">拍卖</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="###" class="nav-link">
                        <img src="images/nav/10.png" alt="" class="nav-img">
                        <span class="nav-text">服务</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="recommend-container">
            <ul class="recommend">
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/1.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/2.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/3.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/4.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/5.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/6.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/7.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/8.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/9.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
                <li class="recommend-item">
                    <a href="###" class="recommend-link">
                        <p class="recommend-pic">
                            <img src="images/loading.gif" data-src="images/recommend/10.jpg" alt="recommend"
                                class="recommend-img lazyload-img">
                        </p>
                        <p class="recommend-name">欧派整体橱柜定制简约现代</p>
                        <p class="recommend-origPrice">
                            <del>￥2000</del>
                        </p>
                        <p class="recommend-info">
                            <span class="recommend-price">
                                ￥<strong class="recommend-price-num">1000</strong>
                            </span>
                            <span class="recommend-count">985件已售</span>
                        </p>
                    </a>

                </li>
            </ul>
        </div>
        <div class="product" id="product"
            style="height: 500px;background-color: red;text-align: center;line-height: 500px;font-size: 2.5rem;color: #fff;">
            <img src="images/loading.gif" alt="">
        </div>
    </div>
    <div class="tabbar-container">
        <ul class="tabbar">
            <li class="tabbar-item tabbar-item-active">
                <a href="#" class="tabbar-link">
                    <i class="iconfont icon-shouye_huaban"></i>
                    <span>首页</span>
                </a>

            </li>
            <li class="tabbar-item">
                <a href="#" class="tabbar-link">
                    <i class="iconfont icon-fenlei1"></i>
                    <span>分类页</span>
                </a>

            </li>
            <li class="tabbar-item">
                <a href="#" class="tabbar-link">
                    <i class="iconfont icon-gouwuche"></i>
                    <span>购物车</span>
                </a>

            </li>
            <li class="tabbar-item">
                <a href="#" class="tabbar-link">
                    <i class="iconfont icon-gerenzhongxin"></i>
                    <span>个人中心</span>
                </a>

            </li>
        </ul>
    </div>
    <script>
        let lazyLoadClass = '.lazyload-img';
        let imgArr = Array.prototype.slice.call(document.querySelectorAll(lazyLoadClass));
        let timer;
        // 也可以用for循环
        // let temp =[];
        // for() {
        // temp.push();
        // }
        //

        lazyLoadImgs();
        window.addEventListener('scroll', function () {
            clearTimeout(timer);
            timer = setTimeout(function () {
                lazyLoadImgs();
            }, 100)
        }, false)
        function lazyLoadImgs() {
            for (let i = 0; i < imgArr.length; i++) {
                if (isInVisibleArea(imgArr[i])) {
                    imgArr[i].src = imgArr[i].getAttribute('data-src');
                    imgArr.splice(i, 1);
                    i--;
                }
            }
        }

        function isInVisibleArea(el) {
            let rect = el.getBoundingClientRect();
            return rect.bottom > 0 && rect.top < window.innerHeight && rect.left < window.innerWidth && rect.right > 0
        }

        window.addEventListener('scroll', loadProduct, false);
        function loadProduct() {
            let script = document.createElement('script');
            // script.src = 'js/loading.js';
            setTimeout(function () {
                script.src = 'js/loading.js';
            }, 1000);
            document.body.appendChild(script);
            window.removeEventListener('scroll', loadProduct, false);
        }

        // 预加载
        let img = new Image();
        img.src = 'images/recommend/5.jpg';
    </script>
    <script src="js/common.js"></script>
</body>

</html>